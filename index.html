<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>MilkShakeMiX ‚Ä¢ Card√°pio Visual</title>
<style>
  body{
    margin:0; text-align:center; background:#ffeaf3; color:#333;
    font-family: Arial, Helvetica, sans-serif;
  }
  header{
    background:#ff5fa2; color:#fff; padding:18px 10px; font-size:26px; font-weight:bold;
  }
  #wrap{ max-width:1100px; margin:20px auto; padding:0 14px; }

  .cats{ display:grid; grid-template-columns:repeat(auto-fit,minmax(220px,1fr)); gap:12px; }
  .cat{
    background:#fff; border-radius:12px; padding:16px; font-weight:bold; color:#ff3399;
    cursor:pointer; border:2px solid transparent;
  }
  .cat:hover{ border-color:#ffd3e6; }

  #titulo{ margin:8px 0 14px; color:#ff3399; }
  .flavors{
    display:flex; flex-wrap:wrap; gap:8px; justify-content:center; margin:10px 0 18px;
  }
  .btn{
    background:#ff5fa2; color:#fff; border:none; border-radius:999px; padding:10px 14px;
    font-weight:bold; cursor:pointer;
  }
  .btn:hover{ filter:brightness(.95); }
  #voltar{ display:none; margin:6px 0 14px; }

  /* üîß Ajuste da imagem para caber perfeitamente na tela do iPad */
  #viewer{
    display:none;
    margin:10px auto 22px;
    overflow:hidden;
  }
  #viewer img{
    max-width: 100%;
    max-height: 85vh;
    height: auto;
    width: auto;
    object-fit: contain;
    border-radius: 12px;
    box-shadow: 0 6px 22px rgba(0,0,0,.15);
    background:#f6f6f6;
  }

  .hint{ color:#666; font-size:13px; margin-top:6px; }
</style>
</head>
<body>
<header>MilkShakeMiX üç®</header>

<div id="wrap">
  <button id="voltar" class="btn" onclick="renderCategorias()">‚Üê Voltar</button>
  <h2 id="titulo">Categorias</h2>
  <div id="lista" class="cats"></div>

  <div id="viewer">
    <img id="imgView" src="" alt="">
    <div class="hint" id="imgName"></div>
  </div>
</div>

<script>
var CATALOGO = {
  "MilkShakes Tradicionais": [
    "Abacaxi.jpg",
    "Abacaxi ao Vinho.jpg",
    "Abacaxi com Hortel√£.jpg",
    "Algod√£o Doce.jpg"
  ],
  "MilkShakes Especiais": [],
  "Mix Twist": [],
  "Mix Frutas": [],
  "Mix Chocolate": [],
  "Sundae": [],
  "A√ßa√≠ Shake": [],
  "Mix Kids": [],
  "Nacho": []
};

function folderFromCategory(cat){
  var s = cat;
  s = s.normalize ? s.normalize('NFD').replace(/[\u0300-\u036f]/g,'') : s;
  s = s.toLowerCase().replace(/[^a-z0-9]+/g,'_').replace(/^_|_$/g,'');
  return s;
}

var elTitulo = document.getElementById('titulo');
var elLista  = document.getElementById('lista');
var elVoltar = document.getElementById('voltar');
var elViewer = document.getElementById('viewer');
var elImg    = document.getElementById('imgView');
var elImgName= document.getElementById('imgName');

function renderCategorias(){
  elTitulo.innerHTML = 'Categorias';
  elVoltar.style.display = 'none';
  elViewer.style.display = 'none';
  elLista.className = 'cats';
  elLista.innerHTML = '';

  for (var cat in CATALOGO){
    if (!CATALOGO.hasOwnProperty(cat)) continue;
    var div = document.createElement('div');
    div.className = 'cat';
    div.innerHTML = cat;
    div.onclick = (function(c){ return function(){ renderSabores(c); }; })(cat);
    elLista.appendChild(div);
  }
}

function renderSabores(cat){
  elTitulo.innerHTML = cat;
  elVoltar.style.display = 'inline-block';
  elViewer.style.display = 'none';
  elLista.className = '';
  elLista.innerHTML = '';

  var sabores = CATALOGO[cat] || [];
  if (!sabores.length){
    var p = document.createElement('div');
    p.className = 'hint';
    p.innerHTML = 'Nenhum sabor cadastrado ainda.<br>Adicione imagens em <b>imagens/' + folderFromCategory(cat) + '/</b> e liste os arquivos no CATALOGO.';
    elLista.appendChild(p);
    return;
  }

  var faixa = document.createElement('div');
  faixa.className = 'flavors';
  elLista.appendChild(faixa);

  for (var i=0;i<sabores.length;i++){
    var file = sabores[i];
    var nome = file.replace(/\.[^.]+$/,'');
    var btn  = document.createElement('button');
    btn.className = 'btn';
    btn.innerHTML = nome;
    btn.onclick = (function(catLocal, fileLocal, nomeLocal){
      return function(){ mostrarImagem(catLocal, fileLocal, nomeLocal); };
    })(cat, file, nome);
    faixa.appendChild(btn);
  }
}

function mostrarImagem(cat, file, nome){
  var folder = folderFromCategory(cat);
  var src = 'imagens/' + folder + '/' + encodeURIComponent(file);
  elImg.src = src;
  elImg.alt = nome;
  elImgName.innerHTML = nome;
  elViewer.style.display = 'block';
}

renderCategorias();
</script>
</body>
</html>
